[tool.fawltydeps]
# FawltyDeps configuration for MuniMetro API
# This checks API-specific dependencies for deployment

# Code to analyze (API code + shared lib)
code = [".", "../lib"]

# Dependencies file
deps = ["requirements.txt"]

# Ignore dependencies that are used but not imported
ignore_unused = [
    "gunicorn",  # WSGI server, invoked as CLI tool
    "numpy",     # Imported lazily inside lib functions
]

# Ignore imports that aren't in requirements.txt (local modules)
ignore_undeclared = [
    "lib",  # Local shared library (../lib/muni_lib.py)
]

# Map import names to their package names
custom_mapping = {PIL = ["pillow"], google = ["google-cloud-storage"]}
